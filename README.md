<div align="center">

# ğŸ¨ æ˜“å®¿é…’åº—é¢„è®¢å¹³å°

**Yisu Hotel Platform**

é¢å‘ç°ä»£æ—…æ¸¸å‡ºè¡Œåœºæ™¯çš„å…¨æ ˆé…’åº—é¢„è®¢ä¸ç®¡ç†ç³»ç»Ÿ

[![Quality Gate](https://img.shields.io/badge/Quality%20Gate-Passed-brightgreen?logo=sonarcloud)](https://sonarcloud.io)
[![Coverage](https://img.shields.io/badge/Coverage-84.5%25-brightgreen)](https://sonarcloud.io)
[![Node.js](https://img.shields.io/badge/Node.js-Express%205-339933?logo=node.js)](https://expressjs.com/)
[![React](https://img.shields.io/badge/React-19-61DAFB?logo=react)](https://react.dev/)
[![Taro](https://img.shields.io/badge/Taro-4.1-0000E6?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3ElEQVQ4T62T0Q3CMAyGf0dgBEZgBEaADWAENmCEsgEjsAEjsAGMwAjQf5ITuUmbCiwlqu377DhxiD+u8B8BqgBHACcrx0lPAK4ATkmyHj0CsLPEMyU5pci7TwB2lg/W/CDJKUnOBLCxvJBk6w0kue4joLFCkqxmzMTzE4A2yPoGQNXmkaQZuzSQZNsFsAXJvQB62h0B9BjbkLz6ADr+Q5LXrOadBz9FdEOyw+oeQJNFalO+AaiErZJ1dr4LOFjZJhd+b2Ccx/43kE/GHjdw4FP2dggf+t+N9wIv1INqEdz+GhwAAAAASUVORK5CYII=)](https://taro.zone/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?logo=docker)](https://docs.docker.com/compose/)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

æ˜“å®¿é…’åº—é¢„è®¢å¹³å°æ˜¯ä¸€ä¸ªå®Œæ•´çš„ B2C é…’åº—é¢„è®¢æœåŠ¡ç³»ç»Ÿï¼ŒåŒ…å«ä¸‰å¤§å­ç³»ç»Ÿï¼š

| å­ç³»ç»Ÿ | æŠ€æœ¯æ–¹æ¡ˆ | è¯´æ˜ |
|--------|----------|------|
| **ç”¨æˆ·ç«¯ (client)** | Taro + React + TypeScript | ç§»åŠ¨ç«¯ H5 / å¾®ä¿¡å°ç¨‹åºï¼Œé¢å‘ç»ˆç«¯ç”¨æˆ·çš„é…’åº—é¢„è®¢æµç¨‹ |
| **ç®¡ç†ç«¯ (admin)** | React 19 + Vite + Ant Design 6 | PC ç«¯ç®¡ç†åå°ï¼Œå•†æˆ·ç®¡ç†é…’åº—ä¿¡æ¯ & ç®¡ç†å‘˜å®¡æ ¸å‘å¸ƒ |
| **æœåŠ¡ç«¯ (server)** | Express 5 + MongoDB + Redis | RESTful API + WebSocket å®æ—¶é€šä¿¡ |

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“± ç”¨æˆ·ç«¯ï¼ˆç§»åŠ¨ç«¯ï¼‰

- **é…’åº—é¦–é¡µ** â€” Banner è½®æ’­å¹¿å‘Šã€åŸå¸‚å®šä½ã€å…³é”®å­—æœç´¢ã€æ—¥æœŸé€‰æ‹©ã€æ˜Ÿçº§/ä»·æ ¼ç­›é€‰ã€å¿«æ·æ ‡ç­¾
- **é…’åº—åˆ—è¡¨** â€” æ¡ä»¶ç­›é€‰ã€ä¸Šæ»‘è‡ªåŠ¨åŠ è½½ï¼ˆæ— é™æ»šåŠ¨ï¼‰ã€é…’åº—å¡ç‰‡å±•ç¤ºï¼ˆåç§°/è¯„åˆ†/åœ°å€/ä»·æ ¼ï¼‰
- **é…’åº—è¯¦æƒ…** â€” å›¾ç‰‡è½®æ’­ Bannerã€åŸºç¡€ä¿¡æ¯å±•ç¤ºã€æ—¥å†é€‰æˆ¿ã€æˆ¿å‹ä»·æ ¼åˆ—è¡¨ï¼ˆç”±ä½åˆ°é«˜æ’åºï¼‰

### ğŸ’¼ å•†æˆ·ç«¯ï¼ˆPC ç®¡ç†åå°ï¼‰

- **æ•°æ®ç»Ÿè®¡** â€” æ”¶å…¥è¶‹åŠ¿å›¾ã€è¯„åˆ†åˆ†å¸ƒã€æ—¥å†çƒ­åŠ›å›¾ã€ç¯æ¯”æŒ‡æ ‡ã€å¯ç‚¹å‡»å¯¼èˆªå¡ç‰‡
- **é…’åº—ç®¡ç†** â€” é…’åº—ä¿¡æ¯å½•å…¥/ç¼–è¾‘/ä¿å­˜ï¼Œå®æ—¶åŒæ­¥æ›´æ–°
- **æˆ¿å‹ç®¡ç†** â€” æˆ¿å‹å¢åˆ æ”¹ã€ä»·æ ¼æ—¥å†ã€åº“å­˜ç®¡æ§
- **è®¢å•ç®¡ç†** â€” è®¢å•åˆ—è¡¨æŸ¥çœ‹ã€æ—¥æœŸèŒƒå›´ç­›é€‰
- **è¯„ä»·ç®¡ç†** â€” æŸ¥çœ‹/å›å¤ç”¨æˆ·è¯„ä»·ã€è¯„åˆ†ç»Ÿè®¡åˆ†æ
- **ä¿ƒé”€ç®¡ç†** â€” æŠ˜æ‰£/æ»¡å‡/ç‰¹ä»·å¤šç§ä¿ƒé”€æ¨¡å¼

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜ç«¯ï¼ˆPC ç®¡ç†åå°ï¼‰

- **é…’åº—å®¡æ ¸** â€” å®¡æ ¸/å‘å¸ƒ/ä¸‹çº¿é…’åº—ï¼Œæ”¯æŒæ‹’ç»åŸå› è¯´æ˜ï¼Œä¸‹çº¿å¯æ¢å¤
- **ç”¨æˆ·ç®¡ç†** â€” æŸ¥çœ‹å’Œç®¡ç†å¹³å°ç”¨æˆ·
- **Banner ç®¡ç†** â€” é¦–é¡µå¹¿å‘Šç´ æç®¡ç†
- **å…¬å‘Šç®¡ç†** â€” å¹³å°å…¬å‘Šå‘å¸ƒä¸ç®¡ç†

### ğŸ”§ é€šç”¨åŠŸèƒ½

- **ç”¨æˆ·ç™»å½•/æ³¨å†Œ** â€” æ”¯æŒå•†æˆ·/ç®¡ç†å‘˜è§’è‰²æ³¨å†Œï¼Œç™»å½•è‡ªåŠ¨è¯†åˆ«è§’è‰²
- **å³æ—¶é€šè®¯** â€” åŸºäº Socket.IO çš„å®æ—¶æ¶ˆæ¯èŠå¤©
- **ä¸ªäººä¸­å¿ƒ** â€” ç”¨æˆ·èµ„æ–™ç¼–è¾‘ã€å¤´åƒä¸Šä¼ 

### ğŸ›¡ï¸ æŠ€æœ¯äº®ç‚¹

- **JWT èº«ä»½è®¤è¯** + è§’è‰²æƒé™æ§åˆ¶ï¼ˆuser / merchant / adminï¼‰
- **Redis ç¼“å­˜** åŠ é€Ÿçƒ­ç‚¹æ•°æ®æŸ¥è¯¢
- **Socket.IO** å®æ—¶åŒå‘é€šä¿¡
- **å›¾ç‰‡å¤„ç†** â€” Sharp è‡ªåŠ¨å‹ç¼©ä¼˜åŒ–ä¸Šä¼ å›¾ç‰‡
- **API æ–‡æ¡£** â€” Swagger UI è‡ªåŠ¨åŒ–æ¥å£æ–‡æ¡£ (`/api-docs`)
- **å®‰å…¨åŠ å›º** â€” Helmet å®‰å…¨å¤´ã€express-rate-limit é™æµã€bcrypt å¯†ç åŠ å¯†
- **ç»“æ„åŒ–æ—¥å¿—** â€” Winston + æŒ‰æ—¥è½®è½¬æ—¥å¿—æ–‡ä»¶
- **Docker ä¸€é”®éƒ¨ç½²** â€” docker-compose ç¼–æ’ App + MongoDB + Redis

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
yisu-hotel-platform/
â”œâ”€â”€ client/                    # ğŸ“± ç”¨æˆ·ç«¯ï¼ˆTaro è·¨ç«¯ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ index/         #   é¦–é¡µï¼ˆæœç´¢ + Bannerï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ hotel-list/    #   é…’åº—åˆ—è¡¨ï¼ˆç­›é€‰ + æ— é™æ»šåŠ¨ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ hotel-detail/  #   é…’åº—è¯¦æƒ…ï¼ˆè½®æ’­ + æˆ¿å‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ components/        # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ services/          # API æœåŠ¡å±‚
â”‚   â””â”€â”€ config/                # Taro æ„å»ºé…ç½®
â”‚
â”œâ”€â”€ admin/                     # ğŸ’» ç®¡ç†ç«¯ï¼ˆReact + Viteï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login/         #   ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Register/      #   æ³¨å†Œé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ merchant/      #   å•†æˆ·åŠŸèƒ½ (9ä¸ªæ¨¡å—)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard/       # æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotelList/       # é…’åº—ç®¡ç†åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotelEdit/       # é…’åº—ç¼–è¾‘
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotelDetail/     # é…’åº—è¯¦æƒ…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RoomList/        # æˆ¿å‹ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderList/       # è®¢å•åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderDetail/     # è®¢å•è¯¦æƒ…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ReviewList/      # è¯„ä»·ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PromotionList/   # ä¿ƒé”€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/         #   ç®¡ç†å‘˜åŠŸèƒ½ (4ä¸ªæ¨¡å—)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HotelList/       # å®¡æ ¸é…’åº—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserList/        # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BannerList/      # Banner ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AnnouncementList/# å…¬å‘Šç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ common/        #   é€šç”¨é¡µé¢
â”‚   â”‚   â”‚       â”œâ”€â”€ Chat/            # å³æ—¶é€šè®¯
â”‚   â”‚   â”‚       â””â”€â”€ Profile/         # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ api/               # API è¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ stores/            # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ layouts/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ server/                    # âš™ï¸ æœåŠ¡ç«¯ï¼ˆNode.js + Expressï¼‰
â”‚   â”œâ”€â”€ app.js                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/                # æ•°æ®åº“ & Redis é…ç½®
â”‚   â”œâ”€â”€ middleware/             # ä¸­é—´ä»¶ï¼ˆé‰´æƒ/æ ¡éªŒ/ä¸Šä¼ /é”™è¯¯å¤„ç†ï¼‰
â”‚   â”œâ”€â”€ models/                # Mongoose æ•°æ®æ¨¡å‹ (11ä¸ª)
â”‚   â”‚   â”œâ”€â”€ User.js            #   ç”¨æˆ·
â”‚   â”‚   â”œâ”€â”€ Hotel.js           #   é…’åº—ï¼ˆå«åœ°ç†åæ ‡ï¼‰
â”‚   â”‚   â”œâ”€â”€ RoomType.js        #   æˆ¿å‹ï¼ˆå«ä»·æ ¼æ—¥å†ï¼‰
â”‚   â”‚   â”œâ”€â”€ Order.js           #   è®¢å•
â”‚   â”‚   â”œâ”€â”€ Review.js          #   è¯„ä»·
â”‚   â”‚   â”œâ”€â”€ Favorite.js        #   æ”¶è—
â”‚   â”‚   â”œâ”€â”€ Banner.js          #   å¹¿å‘Šä½
â”‚   â”‚   â”œâ”€â”€ Promotion.js       #   ä¿ƒé”€æ´»åŠ¨
â”‚   â”‚   â”œâ”€â”€ Announcement.js    #   ç³»ç»Ÿå…¬å‘Š
â”‚   â”‚   â”œâ”€â”€ AnnouncementRead.js#   å…¬å‘Šå·²è¯»è®°å½•
â”‚   â”‚   â””â”€â”€ Message.js         #   å³æ—¶æ¶ˆæ¯
â”‚   â”œâ”€â”€ routes/                # API è·¯ç”± (14ä¸ªæ¨¡å—)
â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ tests/                 # Jest å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ swagger.json           # OpenAPI 3.0 æ¥å£æ–‡æ¡£
â”‚   â””â”€â”€ Dockerfile             # Docker é•œåƒæ„å»º
â”‚
â”œâ”€â”€ docs/                      # ğŸ“„ é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ .github/workflows/         # ğŸ”„ CI/CD (GitHub Actions)
â”‚   â”œâ”€â”€ test_backend.yml       #   åç«¯è‡ªåŠ¨åŒ–æµ‹è¯•
â”‚   â”œâ”€â”€ test_frontend.yml      #   å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•
â”‚   â”œâ”€â”€ sonar_backend_server.yml  # SonarCloud åç«¯æ‰«æ
â”‚   â””â”€â”€ sonar_frontend_admin.yml  # SonarCloud å‰ç«¯æ‰«æ
â”‚
â””â”€â”€ docker-compose.yml         # ğŸ³ ä¸€é”®éƒ¨ç½²ç¼–æ’
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19 / 18 | è§†å›¾å±‚æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹å®‰å…¨ |
| Taro | 4.1 | è·¨ç«¯å¼€å‘ï¼ˆH5 / å¾®ä¿¡å°ç¨‹åºï¼‰ |
| Vite | 7.x | æ„å»ºå·¥å…·ï¼ˆç®¡ç†ç«¯ï¼‰ |
| Ant Design | 6.x | UI ç»„ä»¶åº“ï¼ˆç®¡ç†ç«¯ï¼‰ |
| @ant-design/charts | 2.x | æ•°æ®å¯è§†åŒ–å›¾è¡¨ |
| Zustand | 5.x | è½»é‡çŠ¶æ€ç®¡ç† |
| React Router | 7.x | è·¯ç”±ç®¡ç† |
| Socket.IO Client | 4.x | WebSocket å®¢æˆ·ç«¯ |
| Sass | 1.x | CSS é¢„å¤„ç†å™¨ï¼ˆç”¨æˆ·ç«¯ï¼‰ |

### åç«¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Node.js | 18+ | è¿è¡Œæ—¶ |
| Express | 5.x | Web æ¡†æ¶ |
| MongoDB / Mongoose | 6 / 9 | æ•°æ®åº“ & ODM |
| Redis | 7 | ç¼“å­˜ & ä¼šè¯ |
| Socket.IO | 4.x | å®æ—¶é€šä¿¡ |
| JWT | - | èº«ä»½è®¤è¯ |
| Sharp | 0.34 | å›¾ç‰‡å‹ç¼©å¤„ç† |
| Swagger UI | 5.x | API æ–‡æ¡£ |
| Winston | 3.x | æ—¥å¿—ç®¡ç† |
| Helmet | 8.x | HTTP å®‰å…¨å¤´ |

### DevOps & è´¨é‡ä¿éšœ

| å·¥å…· | ç”¨é€” |
|------|------|
| Docker + Compose | å®¹å™¨åŒ–éƒ¨ç½² |
| GitHub Actions | CI/CD æµæ°´çº¿ |
| SonarCloud | é™æ€ä»£ç åˆ†æ |
| Jest + Supertest | åç«¯å•å…ƒ/é›†æˆæµ‹è¯• |
| Vitest + Testing Library | å‰ç«¯ç»„ä»¶æµ‹è¯• |
| ESLint + Prettier | ä»£ç é£æ ¼ç»Ÿä¸€ |
| Husky + CommitLint | Git æäº¤è§„èŒƒ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18
- **MongoDB** >= 6.0
- **Redis** >= 7.0
- **npm** >= 9

### æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-repo/yisu-hotel-platform.git
cd yisu-hotel-platform
```

#### 2. å¯åŠ¨æœåŠ¡ç«¯

```bash
cd server
cp .env.example .env       # å¤åˆ¶å¹¶ç¼–è¾‘ç¯å¢ƒå˜é‡
npm install
npm run dev                # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (é»˜è®¤ http://localhost:5000)
```

#### 3. å¯åŠ¨ç®¡ç†ç«¯ï¼ˆPC åå°ï¼‰

```bash
cd admin
npm install
npm run dev                # å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ (é»˜è®¤ http://localhost:5173)
```

#### 4. å¯åŠ¨ç”¨æˆ·ç«¯ï¼ˆç§»åŠ¨ç«¯ï¼‰

```bash
cd client
npm install
npm run dev:h5             # H5 æ¨¡å¼
# æˆ–
npm run dev:weapp          # å¾®ä¿¡å°ç¨‹åºæ¨¡å¼
```

### æ–¹å¼äºŒï¼šDocker ä¸€é”®éƒ¨ç½²

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cd server
cp .env.example .env
# ç¼–è¾‘ .envï¼Œè‡³å°‘è®¾ç½® JWT_SECRET

# 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
cd ..
docker-compose up -d

# æœåŠ¡å¯åŠ¨åï¼š
# - åç«¯ API:    http://localhost:5000
# - API æ–‡æ¡£:    http://localhost:5000/api-docs
# - å¥åº·æ£€æŸ¥:    http://localhost:5000/api/health
```

---

## âš™ï¸ ç¯å¢ƒå˜é‡

æœåŠ¡ç«¯æ ¸å¿ƒç¯å¢ƒå˜é‡è¯´æ˜ (å‚è§ `server/.env.example`)ï¼š

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `PORT` | 5000 | æœåŠ¡ç«¯å£ |
| `NODE_ENV` | production | è¿è¡Œç¯å¢ƒ |
| `MONGODB_URI` | - | MongoDB è¿æ¥å­—ç¬¦ä¸² |
| `REDIS_URL` | - | Redis è¿æ¥åœ°å€ |
| `JWT_SECRET` | âš ï¸ **å¿…å¡«** | JWT ç­¾åå¯†é’¥ |

---

## ğŸ“¡ API æ–‡æ¡£

å¯åŠ¨æœåŠ¡ç«¯åï¼Œè®¿é—® [http://localhost:5000/api-docs](http://localhost:5000/api-docs) æŸ¥çœ‹å®Œæ•´çš„ **Swagger UI** æ¥å£æ–‡æ¡£ã€‚

ä¸»è¦ API æ¨¡å—ï¼š

| æ¨¡å— | è·¯å¾„å‰ç¼€ | è¯´æ˜ |
|------|----------|------|
| è®¤è¯ | `/api/auth` | æ³¨å†Œã€ç™»å½• |
| ç”¨æˆ· | `/api/users` | ç”¨æˆ·ä¿¡æ¯ç®¡ç† |
| é…’åº— | `/api/hotels` | é…’åº— CRUD + æœç´¢ |
| æˆ¿å‹ | `/api/rooms` | æˆ¿å‹ç®¡ç† + ä»·æ ¼æ—¥å† |
| è®¢å• | `/api/orders` | é¢„è®¢ã€æ”¯ä»˜ã€å–æ¶ˆ |
| è¯„ä»· | `/api/reviews` | å‘è¡¨/å›å¤è¯„ä»· |
| æ”¶è— | `/api/favorites` | æ”¶è—/å–æ¶ˆæ”¶è— |
| ä¿ƒé”€ | `/api/promotions` | ä¿ƒé”€æ´»åŠ¨ç®¡ç† |
| Banner | `/api/banners` | å¹¿å‘Šä½ç®¡ç† |
| å…¬å‘Š | `/api/announcements` | ç³»ç»Ÿå…¬å‘Š |
| æ¶ˆæ¯ | `/api/messages` | å³æ—¶é€šè®¯æ¶ˆæ¯ |
| ä¸Šä¼  | `/api/upload` | æ–‡ä»¶/å›¾ç‰‡ä¸Šä¼  |
| å•†æˆ·ç»Ÿè®¡ | `/api/merchant/stats` | ä»ªè¡¨ç›˜æ•°æ® |
| å¥åº·æ£€æŸ¥ | `/api/health` | ç³»ç»ŸçŠ¶æ€ç›‘æ§ |

---

## ğŸ§ª æµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd server
npm test                   # Jest å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•

# ç®¡ç†ç«¯æµ‹è¯•
cd admin
npm test                   # Vitest ç»„ä»¶æµ‹è¯•
npm run test:coverage      # å«è¦†ç›–ç‡æŠ¥å‘Š
```

---

## ğŸ›¡ï¸ ä»£ç è´¨é‡

æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ªé«˜è´¨é‡ä»£ç æ ‡å‡†ï¼Œé€šè¿‡ SonarCloud è¿›è¡Œé™æ€ä»£ç åˆ†æä¸ CI/CD é›†æˆæµ‹è¯•ã€‚

### ğŸ“Š è´¨é‡æ¦‚è§ˆ (Quality Gate: Passed)

| æŒ‡æ ‡ (Metric) | çŠ¶æ€ (Status) | æ•°å€¼ (Value) | è¯„çº§ (Rating) |
| :--- | :---: | :---: | :---: |
| **Quality Gate** | âœ… Passed | - | **A** |
| **Coverage** | âœ… Passed | **84.5%** | **A** |
| **Duplications** | âœ… Passed | **0.0%** | **A** |
| **Security** | âœ… Safe | 0 Issues | **A** |
| **Reliability** | âœ… Stable | 0 Issues | **A** |
| **Maintainability**| âœ… Clean | 0 Issues | **A** |

> æ•°æ®æ¥æºï¼šSonarCloud Analysis (2026-02-05)

### ç¼–ç è§„èŒƒ

- **ESLint** â€” JavaScript/TypeScript ä»£ç è§„èŒƒæ£€æŸ¥
- **Prettier** â€” ç»Ÿä¸€ä»£ç æ ¼å¼åŒ–
- **Husky + CommitLint** â€” Git æäº¤ä¿¡æ¯è§„èŒƒï¼ˆConventional Commitsï¼‰
- **StyleLint** â€” CSS/Sass æ ·å¼è§„èŒƒ

---

## ğŸ“ æ•°æ®åº“è®¾è®¡

```mermaid
erDiagram
    User ||--o{ Hotel : "merchantId"
    User ||--o{ Order : "userId"
    User ||--o{ Review : "userId"
    User ||--o{ Favorite : "userId"
    User ||--o{ Message : "senderId"
    Hotel ||--o{ RoomType : "hotelId"
    Hotel ||--o{ Order : "hotelId"
    Hotel ||--o{ Review : "hotelId"
    Hotel ||--o{ Banner : "targetHotelId"
    Hotel ||--o{ Promotion : "hotelId"
    RoomType ||--o{ Order : "roomTypeId"
    User ||--o{ Announcement : "createdBy"
    Announcement ||--o{ AnnouncementRead : "announcementId"

    User {
        string username
        string password
        string role "user|merchant|admin"
        string gender
        string avatar
        string bio
    }

    Hotel {
        ObjectId merchantId
        string name
        string city
        string address
        int starRating "1-5"
        number price
        object location "GeoJSON Point"
        int status "0å¾…å®¡æ ¸|1å·²å‘å¸ƒ|2æ‹’ç»|3ä¸‹çº¿"
    }

    RoomType {
        ObjectId hotelId
        string title
        number price
        int stock
        array priceCalendar
    }

    Order {
        ObjectId userId
        ObjectId hotelId
        ObjectId roomTypeId
        date checkInDate
        date checkOutDate
        number totalPrice
        string status "pending|paid|completed|cancelled"
    }

    Review {
        ObjectId userId
        ObjectId hotelId
        int rating "1-5"
        string content
    }
```

---